<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'></meta>
    <link rel='stylesheet' type='text/css' href='statprofiler.css'></link>
    <title>StatProfilerHTML - ../../../../.julia/packages/Interpolations/91PhN/src/scaling/scaling.jl</title>
  </head>
  <body>
    <div class='report-header'>
      <div class='backlink'>
        <a href='index.html'>Report index</a>
      </div>
      <div class='report-title'>
        StatProfilerHTML.jl report
      </div>
      <div class='generated-on'>
        Generated on Fri, 15 Mar 2024 00:55:40
      </div>
    </div>
    <table>
      <caption>File source code</caption>
      <thead>
        <tr>
          <th>Line</th>
          <th>Exclusive</th>
          <th>Inclusive</th>
          <th>Code</th>
        </tr>
      </thead>
      <tbody>
        <tr id='L1'>
          <td class='lineno'>1</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>export ScaledInterpolation, eachvalue</span>
          </td>
        </tr>
        <tr id='L2'>
          <td class='lineno'>2</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L3'>
          <td class='lineno'>3</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>import Base: iterate</span>
          </td>
        </tr>
        <tr id='L4'>
          <td class='lineno'>4</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L5'>
          <td class='lineno'>5</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>struct ScaledInterpolation&#123;T,N,ITPT,IT,RT&#125; &lt;: AbstractInterpolationWrapper&#123;T,N,ITPT,IT&#125;</span>
          </td>
        </tr>
        <tr id='L6'>
          <td class='lineno'>6</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    itp::ITPT</span>
          </td>
        </tr>
        <tr id='L7'>
          <td class='lineno'>7</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ranges::RT</span>
          </td>
        </tr>
        <tr id='L8'>
          <td class='lineno'>8</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L9'>
          <td class='lineno'>9</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L10'>
          <td class='lineno'>10</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function Base.:&#40;&#61;&#61;&#41;&#40;o1::ScaledInterpolation, o2::ScaledInterpolation&#41;</span>
          </td>
        </tr>
        <tr id='L11'>
          <td class='lineno'>11</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    o1.ranges &#61;&#61; o2.ranges &amp;&amp;</span>
          </td>
        </tr>
        <tr id='L12'>
          <td class='lineno'>12</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    o1.itp &#61;&#61; o2.itp</span>
          </td>
        </tr>
        <tr id='L13'>
          <td class='lineno'>13</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L14'>
          <td class='lineno'>14</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L15'>
          <td class='lineno'>15</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Base.parent&#40;A::ScaledInterpolation&#41; &#61; A.itp</span>
          </td>
        </tr>
        <tr id='L16'>
          <td class='lineno'>16</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>count_interp_dims&#40;::Type&#123;&lt;:ScaledInterpolation&#123;T,N,ITPT&#125;&#125;, n&#41; where &#123;T,N,ITPT&#125; &#61; count_interp_dims&#40;ITPT, n&#41;</span>
          </td>
        </tr>
        <tr id='L17'>
          <td class='lineno'>17</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>BoundsCheckStyle&#40;sitp::ScaledInterpolation&#41; &#61; BoundsCheckStyle&#40;sitp.itp&#41;</span>
          </td>
        </tr>
        <tr id='L18'>
          <td class='lineno'>18</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>coefficients&#40;A::ScaledInterpolation&#41; &#61; coefficients&#40;A.itp&#41;</span>
          </td>
        </tr>
        <tr id='L19'>
          <td class='lineno'>19</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L20'>
          <td class='lineno'>20</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot;</span>
          </td>
        </tr>
        <tr id='L21'>
          <td class='lineno'>21</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&#96;scale&#40;itp, xs, ys, ...&#41;&#96; scales an existing interpolation object to allow for indexing using other coordinate axes than unit ranges, by wrapping the interpolation object and transforming the indices from the provided axes onto unit ranges upon indexing.</span>
          </td>
        </tr>
        <tr id='L22'>
          <td class='lineno'>22</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L23'>
          <td class='lineno'>23</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>The parameters &#96;xs&#96; etc must be either ranges or linspaces, and there must be one coordinate range/linspace for each dimension of the interpolation object.</span>
          </td>
        </tr>
        <tr id='L24'>
          <td class='lineno'>24</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L25'>
          <td class='lineno'>25</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>For every &#96;NoInterp&#96; dimension of the interpolation object, the range must be exactly &#96;1:size&#40;itp, d&#41;&#96;.</span>
          </td>
        </tr>
        <tr id='L26'>
          <td class='lineno'>26</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot;</span>
          </td>
        </tr>
        <tr id='L27'>
          <td class='lineno'>27</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function scale&#40;itp::AbstractInterpolation&#123;T,N,IT&#125;, ranges::Vararg&#123;AbstractRange,N&#125;&#41; where &#123;T,N,IT&#125;</span>
          </td>
        </tr>
        <tr id='L28'>
          <td class='lineno'>28</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    check_ranges&#40;itpflag&#40;itp&#41;, axes&#40;itp&#41;, ranges&#41;</span>
          </td>
        </tr>
        <tr id='L29'>
          <td class='lineno'>29</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ScaledInterpolation&#123;T,N,typeof&#40;itp&#41;,IT,typeof&#40;ranges&#41;&#125;&#40;itp, ranges&#41;</span>
          </td>
        </tr>
        <tr id='L30'>
          <td class='lineno'>30</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L31'>
          <td class='lineno'>31</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>scale&#40;itp::AbstractInterpolation&#123;T,N,IT&#125;, ranges::NTuple&#123;N, &lt;:AbstractRange&#125;&#41; where &#123;T,N,IT&#125; &#61; scale&#40;itp, ranges...&#41;</span>
          </td>
        </tr>
        <tr id='L32'>
          <td class='lineno'>32</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L33'>
          <td class='lineno'>33</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function check_ranges&#40;flags, axs, ranges&#41;</span>
          </td>
        </tr>
        <tr id='L34'>
          <td class='lineno'>34</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    check_range&#40;getfirst&#40;flags&#41;, axs&#91;1&#93;, ranges&#91;1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L35'>
          <td class='lineno'>35</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    check_range&#40;ranges&#91;1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L36'>
          <td class='lineno'>36</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    check_ranges&#40;getrest&#40;flags&#41;, Base.tail&#40;axs&#41;, Base.tail&#40;ranges&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L37'>
          <td class='lineno'>37</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L38'>
          <td class='lineno'>38</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>check_ranges&#40;::Any, ::Tuple&#123;&#125;, ::Tuple&#123;&#125;&#41; &#61; nothing</span>
          </td>
        </tr>
        <tr id='L39'>
          <td class='lineno'>39</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L40'>
          <td class='lineno'>40</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>check_range&#40;::NoInterp, ax, r&#41; &#61; ax &#61;&#61; r || throw&#40;ArgumentError&#40;&quot;The range &#36;r did not equal the corresponding axis of the interpolation object &#36;ax&quot;&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L41'>
          <td class='lineno'>41</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>check_range&#40;::Any, ax, r&#41; &#61; length&#40;ax&#41; &#61;&#61; length&#40;r&#41; || throw&#40;ArgumentError&#40;&quot;The range &#36;r is incommensurate with the corresponding axis &#36;ax&quot;&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L42'>
          <td class='lineno'>42</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>check_range&#40;r::AbstractRange&#41; &#61; step&#40;r&#41; &gt; zero&#40;eltype&#40;r&#41;&#41; || throw&#40;ArgumentError&#40;&quot;The range &#36;r is in decreasing order; only ranges with positive steps are supported by scale&#40;&#41;.&quot;&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L43'>
          <td class='lineno'>43</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L44'>
          <td class='lineno'>44</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># With regards to size and &#91;&#93;, ScaledInterpolation behaves like the underlying interpolation object</span>
          </td>
        </tr>
        <tr id='L45'>
          <td class='lineno'>45</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>size&#40;sitp::ScaledInterpolation&#41; &#61; size&#40;sitp.itp&#41;</span>
          </td>
        </tr>
        <tr id='L46'>
          <td class='lineno'>46</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>axes&#40;sitp::ScaledInterpolation&#41; &#61; axes&#40;sitp.itp&#41;</span>
          </td>
        </tr>
        <tr id='L47'>
          <td class='lineno'>47</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L48'>
          <td class='lineno'>48</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>itpflag&#40;sitp::ScaledInterpolation&#41; &#61; itpflag&#40;sitp.itp&#41;</span>
          </td>
        </tr>
        <tr id='L49'>
          <td class='lineno'>49</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L50'>
          <td class='lineno'>50</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@propagate_inbounds function Base.getindex&#40;sitp::ScaledInterpolation&#123;T,N&#125;, i::Vararg&#123;Int,N&#125;&#41; where &#123;T,N&#125;</span>
          </td>
        </tr>
        <tr id='L51'>
          <td class='lineno'>51</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    sitp.itp&#91;i...&#93;</span>
          </td>
        </tr>
        <tr id='L52'>
          <td class='lineno'>52</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L53'>
          <td class='lineno'>53</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L54'>
          <td class='lineno'>54</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>23 &#40;2 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              23 &#40;2 &#37;&#41;
              samples spent in lbounds
              <br />
              
              23 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from _checkbounds
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L433'>line 433</a>
              <br />
            </div>
            <div class='callees'>
              23 &#40;100 &#37;&#41;
              samples spent calling
              <a href='b-splines.jl-83e1662d3a0854821487d0cb5e1cc133d83eca0c.html#L142'>_lbounds</a>
              <br />
            </div>
            <span class='code'>lbounds&#40;sitp::ScaledInterpolation&#41; &#61; _lbounds&#40;sitp.ranges, itpflag&#40;sitp.itp&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L55'>
          <td class='lineno'>55</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>9 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              9 &#40;1 &#37;&#41;
              samples spent in ubounds
              <br />
              
              9 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from _checkbounds
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L433'>line 433</a>
              <br />
            </div>
            <div class='callees'>
              9 &#40;100 &#37;&#41;
              samples spent calling
              <a href='b-splines.jl-83e1662d3a0854821487d0cb5e1cc133d83eca0c.html#L143'>_ubounds</a>
              <br />
            </div>
            <span class='code'>ubounds&#40;sitp::ScaledInterpolation&#41; &#61; _ubounds&#40;sitp.ranges, itpflag&#40;sitp.itp&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L56'>
          <td class='lineno'>56</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L57'>
          <td class='lineno'>57</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>boundstep&#40;r::StepRange&#41; &#61; r.step / 2</span>
          </td>
        </tr>
        <tr id='L58'>
          <td class='lineno'>58</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>boundstep&#40;r::UnitRange&#41; &#61; 1//2</span>
          </td>
        </tr>
        <tr id='L59'>
          <td class='lineno'>59</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot;</span>
          </td>
        </tr>
        <tr id='L60'>
          <td class='lineno'>60</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Returns *half* the width of one step of the range.</span>
          </td>
        </tr>
        <tr id='L61'>
          <td class='lineno'>61</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L62'>
          <td class='lineno'>62</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>This function is used to calculate the upper and lower bounds of &#96;OnCell&#96; interpolation objects.</span>
          </td>
        </tr>
        <tr id='L63'>
          <td class='lineno'>63</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot; boundstep</span>
          </td>
        </tr>
        <tr id='L64'>
          <td class='lineno'>64</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L65'>
          <td class='lineno'>65</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>17 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              17 &#40;1 &#37;&#41;
              samples spent in lbound
              <br />
              
              17 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from lbound
              <a href='b-splines.jl-83e1662d3a0854821487d0cb5e1cc133d83eca0c.html#L149'>line 149</a>
              <br />
            </div>
            <div class='callees'>
              17 &#40;100 &#37;&#41;
              samples spent calling
              <a href='range.jl-65951eadffbb3733ac5b4a9fdf8bc403abf3299f.html#L836'>first</a>
              <br />
            </div>
            <span class='code'>lbound&#40;ax::AbstractRange, ::DegreeBC, ::OnCell&#41; &#61; first&#40;ax&#41; - boundstep&#40;ax&#41;</span>
          </td>
        </tr>
        <tr id='L66'>
          <td class='lineno'>66</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>9 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              9 &#40;1 &#37;&#41;
              samples spent in ubound
              <br />
              
              9 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from ubound
              <a href='b-splines.jl-83e1662d3a0854821487d0cb5e1cc133d83eca0c.html#L152'>line 152</a>
              <br />
            </div>
            <div class='callees'>
              8 &#40;89 &#37;&#41;
              samples spent calling
              <a href='range.jl-65951eadffbb3733ac5b4a9fdf8bc403abf3299f.html#L840'>last</a>
              <br />
              1 &#40;11 &#37;&#41;
              samples spent calling
              <a href='float.jl-49d9930abb632842e20bd7b01e9e0414f4b71f47.html#L409'>&#43;</a>
              <br />
            </div>
            <span class='code'>ubound&#40;ax::AbstractRange, ::DegreeBC, ::OnCell&#41; &#61; last&#40;ax&#41; &#43; boundstep&#40;ax&#41;</span>
          </td>
        </tr>
        <tr id='L67'>
          <td class='lineno'>67</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>lbound&#40;ax::AbstractRange, ::DegreeBC, ::OnGrid&#41; &#61; first&#40;ax&#41;</span>
          </td>
        </tr>
        <tr id='L68'>
          <td class='lineno'>68</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>ubound&#40;ax::AbstractRange, ::DegreeBC, ::OnGrid&#41; &#61; last&#40;ax&#41;</span>
          </td>
        </tr>
        <tr id='L69'>
          <td class='lineno'>69</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L70'>
          <td class='lineno'>70</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># For &#40;&#41;, we scale the evaluation point</span>
          </td>
        </tr>
        <tr id='L71'>
          <td class='lineno'>71</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@propagate_inbounds function &#40;sitp::ScaledInterpolation&#123;T,N&#125;&#41;&#40;xs::Vararg&#123;Number,N&#125;&#41; where &#123;T,N&#125;</span>
          </td>
        </tr>
        <tr id='L72'>
          <td class='lineno'>72</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    @boundscheck &#40;checkbounds&#40;Bool, sitp, xs...&#41; || Base.throw_boundserror&#40;sitp, xs&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L73'>
          <td class='lineno'>73</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    xl &#61; maybe_clamp&#40;sitp.itp, coordslookup&#40;itpflag&#40;sitp.itp&#41;, sitp.ranges, xs&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L74'>
          <td class='lineno'>74</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    @inbounds sitp.itp&#40;xl...&#41;</span>
          </td>
        </tr>
        <tr id='L75'>
          <td class='lineno'>75</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L76'>
          <td class='lineno'>76</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@propagate_inbounds function &#40;itp::ScaledInterpolation&#123;T,N&#125;&#41;&#40;x::Vararg&#123;Number,M&#125;&#41; where &#123;T,M,N&#125;</span>
          </td>
        </tr>
        <tr id='L77'>
          <td class='lineno'>77</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    inds, trailing &#61; split_trailing&#40;itp, x&#41;</span>
          </td>
        </tr>
        <tr id='L78'>
          <td class='lineno'>78</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    @boundscheck &#40;check1&#40;trailing&#41; || Base.throw_boundserror&#40;itp, x&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L79'>
          <td class='lineno'>79</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    @assert length&#40;inds&#41; &#61;&#61; N</span>
          </td>
        </tr>
        <tr id='L80'>
          <td class='lineno'>80</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    itp&#40;inds...&#41;</span>
          </td>
        </tr>
        <tr id='L81'>
          <td class='lineno'>81</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L82'>
          <td class='lineno'>82</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@inline function &#40;sitp::ScaledInterpolation&#41;&#40;x::Vararg&#123;UnexpandedIndexTypes&#125;&#41;</span>
          </td>
        </tr>
        <tr id='L83'>
          <td class='lineno'>83</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    xis &#61; to_indices&#40;sitp, x&#41;</span>
          </td>
        </tr>
        <tr id='L84'>
          <td class='lineno'>84</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    xis &#61;&#61; x &amp;&amp; error&#40;&quot;evaluation not supported for ScaledInterpolation at positions &#36;x&quot;&#41;</span>
          </td>
        </tr>
        <tr id='L85'>
          <td class='lineno'>85</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    sitp&#40;xis...&#41;</span>
          </td>
        </tr>
        <tr id='L86'>
          <td class='lineno'>86</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L87'>
          <td class='lineno'>87</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L88'>
          <td class='lineno'>88</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&#40;sitp::ScaledInterpolation&#123;T,1&#125;, x::Number, y::Int&#41; where &#123;T&#125; &#61; y &#61;&#61; 1 ? sitp&#40;x&#41; : Base.throw_boundserror&#40;sitp, &#40;x, y&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L89'>
          <td class='lineno'>89</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L90'>
          <td class='lineno'>90</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@inline function &#40;itp::ScaledInterpolation&#123;T,N&#125;&#41;&#40;x::Vararg&#123;Union&#123;Number,AbstractVector&#125;,N&#125;&#41; where &#123;T,N&#125;</span>
          </td>
        </tr>
        <tr id='L91'>
          <td class='lineno'>91</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    &#91;itp&#40;i...&#41; for i in Iterators.product&#40;x...&#41;&#93;</span>
          </td>
        </tr>
        <tr id='L92'>
          <td class='lineno'>92</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L93'>
          <td class='lineno'>93</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L94'>
          <td class='lineno'>94</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@inline function coordslookup&#40;flags, ranges, xs&#41;</span>
          </td>
        </tr>
        <tr id='L95'>
          <td class='lineno'>95</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>8 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              8 &#40;1 &#37;&#41;
              samples spent in coordslookup
              <br />
              
              5 &#40;62 &#37;&#41; &#40;incl.&#41;
              when called from coordslookup
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L96'>line 96</a>
              <br />
              
              3 &#40;38 &#37;&#41; &#40;incl.&#41;
              when called from gradient
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L117'>line 117</a>
              <br />
            </div>
            <div class='callees'>
              8 &#40;100 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L101'>coordlookup</a>
              <br />
            </div>
            <span class='code'>    item &#61; coordlookup&#40;getfirst&#40;flags&#41;, ranges&#91;1&#93;, xs&#91;1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L96'>
          <td class='lineno'>96</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>10 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              10 &#40;1 &#37;&#41;
              samples spent in coordslookup
              <br />
              
              5 &#40;50 &#37;&#41; &#40;incl.&#41;
              when called from gradient
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L117'>line 117</a>
              <br />
              
              5 &#40;50 &#37;&#41; &#40;incl.&#41;
              when called from coordslookup
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L96'>line 96</a>
              <br />
            </div>
            <div class='callees'>
              5 &#40;50 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L96'>coordslookup</a>
              <br />
              5 &#40;50 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L95'>coordslookup</a>
              <br />
            </div>
            <span class='code'>    &#40;item, coordslookup&#40;getrest&#40;flags&#41;, Base.tail&#40;ranges&#41;, Base.tail&#40;xs&#41;&#41;...&#41;</span>
          </td>
        </tr>
        <tr id='L97'>
          <td class='lineno'>97</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L98'>
          <td class='lineno'>98</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>coordslookup&#40;::Any, ::Tuple&#123;&#125;, ::Tuple&#123;&#125;&#41; &#61; &#40;&#41;</span>
          </td>
        </tr>
        <tr id='L99'>
          <td class='lineno'>99</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L100'>
          <td class='lineno'>100</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>coordlookup&#40;::NoInterp, r, i&#41; &#61; i</span>
          </td>
        </tr>
        <tr id='L101'>
          <td class='lineno'>101</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>8 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              8 &#40;1 &#37;&#41;
              samples spent in coordlookup
              <br />
              
              8 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from coordslookup
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L95'>line 95</a>
              <br />
            </div>
            <div class='callees'>
              8 &#40;100 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L107'>coordlookup</a>
              <br />
            </div>
            <span class='code'>coordlookup&#40;::Flag, r, x&#41; &#61; coordlookup&#40;r, x&#41;</span>
          </td>
        </tr>
        <tr id='L102'>
          <td class='lineno'>102</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L103'>
          <td class='lineno'>103</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>coordlookup&#40;r::AbstractUnitRange, x&#41; &#61; &#40;x - first&#40;r&#41;&#41;/oneunit&#40;eltype&#40;r&#41;&#41; &#43; one&#40;eltype&#40;r&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L104'>
          <td class='lineno'>104</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># coordlookup&#40;i::Bool, r::AbstractRange, x&#41; &#61; i ? coordlookup&#40;r, x&#41; : convert&#40;typeof&#40;coordlookup&#40;r,x&#41;&#41;, x&#41;</span>
          </td>
        </tr>
        <tr id='L105'>
          <td class='lineno'>105</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>coordlookup&#40;r::StepRange, x&#41; &#61; &#40;x - r.start&#41; / r.step &#43; one&#40;eltype&#40;r&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L106'>
          <td class='lineno'>106</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L107'>
          <td class='lineno'>107</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>8 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              8 &#40;1 &#37;&#41;
              samples spent in coordlookup
              <br />
              
              8 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from coordlookup
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L101'>line 101</a>
              <br />
            </div>
            <div class='callees'>
              6 &#40;75 &#37;&#41;
              samples spent calling
              <a href='range.jl-65951eadffbb3733ac5b4a9fdf8bc403abf3299f.html#L836'>first</a>
              <br />
              2 &#40;25 &#37;&#41;
              samples spent calling
              <a href='float.jl-49d9930abb632842e20bd7b01e9e0414f4b71f47.html#L409'>&#43;</a>
              <br />
            </div>
            <span class='code'>coordlookup&#40;r::AbstractRange, x&#41; &#61; &#40;x - first&#40;r&#41;&#41; / step&#40;r&#41; &#43; one&#40;eltype&#40;r&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L108'>
          <td class='lineno'>108</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>boundstep&#40;r::AbstractRange&#41; &#61; 0.5*step&#40;r&#41;</span>
          </td>
        </tr>
        <tr id='L109'>
          <td class='lineno'>109</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>3 &#40;0 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              3 &#40;0 &#37;&#41;
              samples spent in rescale_gradient
              <br />
              
              3 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from rescale_gradient_components
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L126'>line 126</a>
              <br />
            </div>
            <div class='callees'>
              3 &#40;100 &#37;&#41;
              samples spent calling
              <a href='float.jl-49d9930abb632842e20bd7b01e9e0414f4b71f47.html#L412'>/</a>
              <br />
            </div>
            <span class='code'>rescale_gradient&#40;r::AbstractRange, g&#41; &#61; g / step&#40;r&#41;</span>
          </td>
        </tr>
        <tr id='L110'>
          <td class='lineno'>110</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L111'>
          <td class='lineno'>111</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>basetype&#40;::Type&#123;ScaledInterpolation&#123;T,N,ITPT,IT,RT&#125;&#125;&#41; where &#123;T,N,ITPT,IT,RT&#125; &#61; ITPT</span>
          </td>
        </tr>
        <tr id='L112'>
          <td class='lineno'>112</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>basetype&#40;sitp::ScaledInterpolation&#41; &#61; basetype&#40;typeof&#40;sitp&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L113'>
          <td class='lineno'>113</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L114'>
          <td class='lineno'>114</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L115'>
          <td class='lineno'>115</td>
          <td class='tracecount excl'>9 &#40;1 &#37;&#41;</td>
          <td class='tracecount incl'>9 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              9 &#40;1 &#37;&#41;
              samples spent in gradient
              <br />
              8 &#40;89 &#37;&#41; &#40;ex.&#41;,
              8 &#40;89 &#37;&#41; &#40;incl.&#41;
              when called from gradient&#33;
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L387'>line 387</a>
              <br />
              1 &#40;11 &#37;&#41; &#40;ex.&#41;,
              1 &#40;11 &#37;&#41; &#40;incl.&#41;
              when called from grad
              <a href='data_loader_scm.jl-d39d0539a9be5eca4986f5a6a8244422a3de3954.html#L135'>line 135</a>
              <br />
            </div>
            
            <span class='code'>@propagate_inbounds function gradient&#40;sitp::ScaledInterpolation&#123;T,N&#125;, xs::Vararg&#123;Number,N&#125;&#41; where &#123;T,N&#125;</span>
          </td>
        </tr>
        <tr id='L116'>
          <td class='lineno'>116</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>52 &#40;4 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              52 &#40;4 &#37;&#41;
              samples spent in gradient
              <br />
              
              42 &#40;81 &#37;&#41; &#40;incl.&#41;
              when called from gradient&#33;
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L387'>line 387</a>
              <br />
              
              10 &#40;19 &#37;&#41; &#40;incl.&#41;
              when called from grad
              <a href='data_loader_scm.jl-d39d0539a9be5eca4986f5a6a8244422a3de3954.html#L135'>line 135</a>
              <br />
            </div>
            <div class='callees'>
              43 &#40;83 &#37;&#41;
              samples spent calling
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L423'>checkbounds</a>
              <br />
              9 &#40;17 &#37;&#41;
              samples spent calling
              <a href='abstractarray.jl-e767fe302ea89b0d053b8709e04b4c2c34b44ff9.html#L737'>throw_boundserror</a>
              <br />
            </div>
            <span class='code'>    @boundscheck &#40;checkbounds&#40;Bool, sitp, xs...&#41; || Base.throw_boundserror&#40;sitp, xs&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L117'>
          <td class='lineno'>117</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>9 &#40;1 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              9 &#40;1 &#37;&#41;
              samples spent in gradient
              <br />
              
              5 &#40;56 &#37;&#41; &#40;incl.&#41;
              when called from grad
              <a href='data_loader_scm.jl-d39d0539a9be5eca4986f5a6a8244422a3de3954.html#L135'>line 135</a>
              <br />
              
              4 &#40;44 &#37;&#41; &#40;incl.&#41;
              when called from gradient&#33;
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L387'>line 387</a>
              <br />
            </div>
            <div class='callees'>
              5 &#40;56 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L96'>coordslookup</a>
              <br />
              3 &#40;33 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L95'>coordslookup</a>
              <br />
              1 &#40;11 &#37;&#41;
              samples spent calling
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L444'>maybe_clamp</a>
              <br />
            </div>
            <span class='code'>    xl &#61; maybe_clamp&#40;sitp.itp, coordslookup&#40;itpflag&#40;sitp.itp&#41;, sitp.ranges, xs&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L118'>
          <td class='lineno'>118</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>90 &#40;7 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              90 &#40;7 &#37;&#41;
              samples spent in gradient
              <br />
              
              53 &#40;59 &#37;&#41; &#40;incl.&#41;
              when called from gradient&#33;
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L387'>line 387</a>
              <br />
              
              37 &#40;41 &#37;&#41; &#40;incl.&#41;
              when called from grad
              <a href='data_loader_scm.jl-d39d0539a9be5eca4986f5a6a8244422a3de3954.html#L135'>line 135</a>
              <br />
            </div>
            <div class='callees'>
              84 &#40;93 &#37;&#41;
              samples spent calling
              <a href='indexing.jl-dca59f6ef60718d19f7a455a26b7811d1bed0b53.html#L28'>gradient</a>
              <br />
              6 &#40;7 &#37;&#41;
              samples spent calling
              <a href='indexing.jl-dca59f6ef60718d19f7a455a26b7811d1bed0b53.html#L27'>gradient</a>
              <br />
            </div>
            <span class='code'>    g &#61; gradient&#40;sitp.itp, xl...&#41;</span>
          </td>
        </tr>
        <tr id='L119'>
          <td class='lineno'>119</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>3 &#40;0 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              3 &#40;0 &#37;&#41;
              samples spent in gradient
              <br />
              
              2 &#40;67 &#37;&#41; &#40;incl.&#41;
              when called from gradient&#33;
              <a href='Interpolations.jl-5ec6d1bf16949196986d4991ba174a27828f0c3e.html#L387'>line 387</a>
              <br />
              
              1 &#40;33 &#37;&#41; &#40;incl.&#41;
              when called from grad
              <a href='data_loader_scm.jl-d39d0539a9be5eca4986f5a6a8244422a3de3954.html#L135'>line 135</a>
              <br />
            </div>
            <div class='callees'>
              2 &#40;67 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L126'>rescale_gradient_components</a>
              <br />
              1 &#40;33 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L127'>rescale_gradient_components</a>
              <br />
            </div>
            <span class='code'>    SVector&#40;rescale_gradient_components&#40;itpflag&#40;sitp.itp&#41;, sitp.ranges, Tuple&#40;g&#41;&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L120'>
          <td class='lineno'>120</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L121'>
          <td class='lineno'>121</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L122'>
          <td class='lineno'>122</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function rescale_gradient_components&#40;flags, ranges, g&#41;</span>
          </td>
        </tr>
        <tr id='L123'>
          <td class='lineno'>123</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    if getfirst&#40;flags&#41; isa NoInterp</span>
          </td>
        </tr>
        <tr id='L124'>
          <td class='lineno'>124</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        return rescale_gradient_components&#40;getrest&#40;flags&#41;, Base.tail&#40;ranges&#41;, g&#41;    # don&#39;t consume a coordinate of g</span>
          </td>
        </tr>
        <tr id='L125'>
          <td class='lineno'>125</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    else</span>
          </td>
        </tr>
        <tr id='L126'>
          <td class='lineno'>126</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>3 &#40;0 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              3 &#40;0 &#37;&#41;
              samples spent in rescale_gradient_components
              <br />
              
              2 &#40;67 &#37;&#41; &#40;incl.&#41;
              when called from gradient
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L119'>line 119</a>
              <br />
              
              1 &#40;33 &#37;&#41; &#40;incl.&#41;
              when called from rescale_gradient_components
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L127'>line 127</a>
              <br />
            </div>
            <div class='callees'>
              3 &#40;100 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L109'>rescale_gradient</a>
              <br />
            </div>
            <span class='code'>        item &#61; rescale_gradient&#40;ranges&#91;1&#93;, g&#91;1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L127'>
          <td class='lineno'>127</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'>1 &#40;0 &#37;&#41;</td>
          <td>
            <div class='call-sites'>
              1 &#40;0 &#37;&#41;
              samples spent in rescale_gradient_components
              <br />
              
              1 &#40;100 &#37;&#41; &#40;incl.&#41;
              when called from gradient
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L119'>line 119</a>
              <br />
            </div>
            <div class='callees'>
              1 &#40;100 &#37;&#41;
              samples spent calling
              <a href='scaling.jl-2989922f84d932b2b7a2c7974fb036bfebb6ca9c.html#L126'>rescale_gradient_components</a>
              <br />
            </div>
            <span class='code'>        return &#40;item, rescale_gradient_components&#40;getrest&#40;flags&#41;, Base.tail&#40;ranges&#41;, Base.tail&#40;g&#41;&#41;...&#41;</span>
          </td>
        </tr>
        <tr id='L128'>
          <td class='lineno'>128</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L129'>
          <td class='lineno'>129</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L130'>
          <td class='lineno'>130</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>rescale_gradient_components&#40;flags, ::Tuple&#123;&#125;, ::Tuple&#123;&#125;&#41; &#61; &#40;&#41;</span>
          </td>
        </tr>
        <tr id='L131'>
          <td class='lineno'>131</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L132'>
          <td class='lineno'>132</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>rescale_gradient&#40;r::StepRange, g&#41; &#61; g / r.step</span>
          </td>
        </tr>
        <tr id='L133'>
          <td class='lineno'>133</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>rescale_gradient&#40;r::UnitRange, g&#41; &#61; g</span>
          </td>
        </tr>
        <tr id='L134'>
          <td class='lineno'>134</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L135'>
          <td class='lineno'>135</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot;</span>
          </td>
        </tr>
        <tr id='L136'>
          <td class='lineno'>136</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&#96;rescale_gradient&#40;r::AbstractRange&#41;&#96;</span>
          </td>
        </tr>
        <tr id='L137'>
          <td class='lineno'>137</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L138'>
          <td class='lineno'>138</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Implements the chain rule dy/dx &#61; dy/du * du/dx for use when calculating gradients with scaled interpolation objects.</span>
          </td>
        </tr>
        <tr id='L139'>
          <td class='lineno'>139</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>&quot;&quot;&quot; rescale_gradient</span>
          </td>
        </tr>
        <tr id='L140'>
          <td class='lineno'>140</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L141'>
          <td class='lineno'>141</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>@propagate_inbounds function hessian&#40;sitp::ScaledInterpolation&#123;T,N&#125;, xs::Vararg&#123;Number,N&#125;&#41; where &#123;T,N&#125;</span>
          </td>
        </tr>
        <tr id='L142'>
          <td class='lineno'>142</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    @boundscheck &#40;checkbounds&#40;Bool, sitp, xs...&#41; || Base.throw_boundserror&#40;sitp, xs&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L143'>
          <td class='lineno'>143</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    xl &#61; maybe_clamp&#40;sitp.itp, coordslookup&#40;itpflag&#40;sitp.itp&#41;, sitp.ranges, xs&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L144'>
          <td class='lineno'>144</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    h &#61; hessian&#40;sitp.itp, xl...&#41;</span>
          </td>
        </tr>
        <tr id='L145'>
          <td class='lineno'>145</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return rescale_hessian_components&#40;itpflag&#40;sitp.itp&#41;, sitp.ranges, h&#41;</span>
          </td>
        </tr>
        <tr id='L146'>
          <td class='lineno'>146</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L147'>
          <td class='lineno'>147</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L148'>
          <td class='lineno'>148</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function rescale_hessian_components&#40;flags, ranges, h&#41;</span>
          </td>
        </tr>
        <tr id='L149'>
          <td class='lineno'>149</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    steps &#61; SVector&#40;get_steps&#40;flags, ranges&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L150'>
          <td class='lineno'>150</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return h ./ &#40;steps .* steps&#39;&#41;</span>
          </td>
        </tr>
        <tr id='L151'>
          <td class='lineno'>151</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L152'>
          <td class='lineno'>152</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L153'>
          <td class='lineno'>153</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function get_steps&#40;flags, ranges&#41;</span>
          </td>
        </tr>
        <tr id='L154'>
          <td class='lineno'>154</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    if getfirst&#40;flags&#41; isa NoInterp</span>
          </td>
        </tr>
        <tr id='L155'>
          <td class='lineno'>155</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        return get_steps&#40;getrest&#40;flags&#41;, Base.tail&#40;ranges&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L156'>
          <td class='lineno'>156</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    else</span>
          </td>
        </tr>
        <tr id='L157'>
          <td class='lineno'>157</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        item &#61; step&#40;ranges&#91;1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L158'>
          <td class='lineno'>158</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        return &#40;item, get_steps&#40;getrest&#40;flags&#41;, Base.tail&#40;ranges&#41;&#41;...&#41;</span>
          </td>
        </tr>
        <tr id='L159'>
          <td class='lineno'>159</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L160'>
          <td class='lineno'>160</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L161'>
          <td class='lineno'>161</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>get_steps&#40;flags, ::Tuple&#123;&#125;&#41; &#61; &#40;&#41;</span>
          </td>
        </tr>
        <tr id='L162'>
          <td class='lineno'>162</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L163'>
          <td class='lineno'>163</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>### Iteration</span>
          </td>
        </tr>
        <tr id='L164'>
          <td class='lineno'>164</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L165'>
          <td class='lineno'>165</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>struct ScaledIterator&#123;SITPT,CI,WIS&#125;</span>
          </td>
        </tr>
        <tr id='L166'>
          <td class='lineno'>166</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    sitp::SITPT   # ScaledInterpolation object</span>
          </td>
        </tr>
        <tr id='L167'>
          <td class='lineno'>167</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ci::CI        # the CartesianIndices object</span>
          </td>
        </tr>
        <tr id='L168'>
          <td class='lineno'>168</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    wis::WIS      # WeightedIndex vectors</span>
          </td>
        </tr>
        <tr id='L169'>
          <td class='lineno'>169</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    breaks1::Vector&#123;Int&#125;   # breaks along dimension 1 where new evaluations must occur</span>
          </td>
        </tr>
        <tr id='L170'>
          <td class='lineno'>170</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L171'>
          <td class='lineno'>171</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L172'>
          <td class='lineno'>172</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Base.IteratorSize&#40;::Type&#123;ScaledIterator&#123;SITPT,CI,WIS&#125;&#125;&#41; where &#123;SITPT,CI&lt;:CartesianIndices&#123;N&#125;,WIS&#125; where N &#61; Base.HasShape&#123;N&#125;&#40;&#41;</span>
          </td>
        </tr>
        <tr id='L173'>
          <td class='lineno'>173</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Base.axes&#40;iter::ScaledIterator&#41; &#61; axes&#40;iter.ci&#41;</span>
          </td>
        </tr>
        <tr id='L174'>
          <td class='lineno'>174</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>Base.size&#40;iter::ScaledIterator&#41; &#61; size&#40;iter.ci&#41;</span>
          </td>
        </tr>
        <tr id='L175'>
          <td class='lineno'>175</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L176'>
          <td class='lineno'>176</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>struct ScaledIterState&#123;N,V,D&#125;</span>
          </td>
        </tr>
        <tr id='L177'>
          <td class='lineno'>177</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    cistate::CartesianIndex&#123;N&#125;</span>
          </td>
        </tr>
        <tr id='L178'>
          <td class='lineno'>178</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ibreak::Int</span>
          </td>
        </tr>
        <tr id='L179'>
          <td class='lineno'>179</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    cached_evaluations::NTuple&#123;D,V&#125;</span>
          </td>
        </tr>
        <tr id='L180'>
          <td class='lineno'>180</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L181'>
          <td class='lineno'>181</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L182'>
          <td class='lineno'>182</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function eachvalue&#40;sitp::ScaledInterpolation&#123;T,N&#125;&#41; where &#123;T,N&#125;</span>
          </td>
        </tr>
        <tr id='L183'>
          <td class='lineno'>183</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    itps &#61; tcollect&#40;itpflag, sitp.itp&#41;</span>
          </td>
        </tr>
        <tr id='L184'>
          <td class='lineno'>184</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    newaxes &#61; map&#40;r-&gt;Base.Slice&#40;ceil&#40;Int, first&#40;r&#41;&#41;:floor&#40;Int, last&#40;r&#41;&#41;&#41;, sitp.ranges&#41;</span>
          </td>
        </tr>
        <tr id='L185'>
          <td class='lineno'>185</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    wis &#61; dimension_wis&#40;value_weights, itps, axes&#40;sitp.itp&#41;, newaxes, sitp.ranges&#41;</span>
          </td>
        </tr>
        <tr id='L186'>
          <td class='lineno'>186</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    wis1 &#61; wis&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L187'>
          <td class='lineno'>187</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    i1 &#61; first&#40;axes&#40;wis1, 1&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L188'>
          <td class='lineno'>188</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    breaks1 &#61; &#91;i1&#93;</span>
          </td>
        </tr>
        <tr id='L189'>
          <td class='lineno'>189</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    for i in Iterators.drop&#40;axes&#40;wis1, 1&#41;, 1&#41;</span>
          </td>
        </tr>
        <tr id='L190'>
          <td class='lineno'>190</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        if indexes&#40;wis1&#91;i&#93;&#41; &#33;&#61; indexes&#40;wis1&#91;i-1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L191'>
          <td class='lineno'>191</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>            push&#33;&#40;breaks1, i&#41;</span>
          </td>
        </tr>
        <tr id='L192'>
          <td class='lineno'>192</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        end</span>
          </td>
        </tr>
        <tr id='L193'>
          <td class='lineno'>193</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L194'>
          <td class='lineno'>194</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    push&#33;&#40;breaks1, last&#40;axes&#40;wis1, 1&#41;&#41;&#43;1&#41;</span>
          </td>
        </tr>
        <tr id='L195'>
          <td class='lineno'>195</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ScaledIterator&#40;sitp, CartesianIndices&#40;newaxes&#41;, wis, breaks1&#41;</span>
          </td>
        </tr>
        <tr id='L196'>
          <td class='lineno'>196</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L197'>
          <td class='lineno'>197</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L198'>
          <td class='lineno'>198</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function dimension_wis&#40;f::F, itps, axs, newaxes, ranges&#41; where F</span>
          </td>
        </tr>
        <tr id='L199'>
          <td class='lineno'>199</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    itpflag, ax, nax, r &#61; itps&#91;1&#93;, axs&#91;1&#93;, newaxes&#91;1&#93;, ranges&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L200'>
          <td class='lineno'>200</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    function makewi&#40;x&#41;</span>
          </td>
        </tr>
        <tr id='L201'>
          <td class='lineno'>201</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        pos, coefs &#61; weightedindex_parts&#40;&#40;f,&#41;, itpflag, ax, coordlookup&#40;r, x&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L202'>
          <td class='lineno'>202</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        maybe_weightedindex&#40;pos, coefs&#91;1&#93;&#41;</span>
          </td>
        </tr>
        <tr id='L203'>
          <td class='lineno'>203</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L204'>
          <td class='lineno'>204</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    &#40;makewi.&#40;nax&#41;, dimension_wis&#40;f, Base.tail&#40;itps&#41;, Base.tail&#40;axs&#41;, Base.tail&#40;newaxes&#41;, Base.tail&#40;ranges&#41;&#41;...&#41;</span>
          </td>
        </tr>
        <tr id='L205'>
          <td class='lineno'>205</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L206'>
          <td class='lineno'>206</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>dimension_wis&#40;f, ::Tuple&#123;&#125;, ::Tuple&#123;&#125;, ::Tuple&#123;&#125;, ::Tuple&#123;&#125;&#41; &#61; &#40;&#41;</span>
          </td>
        </tr>
        <tr id='L207'>
          <td class='lineno'>207</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L208'>
          <td class='lineno'>208</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function Base.iterate&#40;iter::ScaledIterator&#41;</span>
          </td>
        </tr>
        <tr id='L209'>
          <td class='lineno'>209</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ret &#61; iterate&#40;iter.ci&#41;</span>
          </td>
        </tr>
        <tr id='L210'>
          <td class='lineno'>210</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ret &#61;&#61;&#61; nothing &amp;&amp; return nothing</span>
          </td>
        </tr>
        <tr id='L211'>
          <td class='lineno'>211</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    item, cistate &#61; ret</span>
          </td>
        </tr>
        <tr id='L212'>
          <td class='lineno'>212</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    wis &#61; getindex.&#40;iter.wis, Tuple&#40;item&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L213'>
          <td class='lineno'>213</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ces &#61; cache_evaluations&#40;InterpGetindex&#40;iter.sitp&#41;, indexes&#40;wis&#91;1&#93;&#41;, weights&#40;wis&#91;1&#93;&#41;, Base.tail&#40;wis&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L214'>
          <td class='lineno'>214</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return _reduce&#40;&#43;, weights&#40;wis&#91;1&#93;&#41;.*ces&#41;, ScaledIterState&#40;cistate, firstindex&#40;iter.breaks1&#41;, ces&#41;</span>
          </td>
        </tr>
        <tr id='L215'>
          <td class='lineno'>215</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L216'>
          <td class='lineno'>216</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L217'>
          <td class='lineno'>217</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>function Base.iterate&#40;iter::ScaledIterator, state&#41;</span>
          </td>
        </tr>
        <tr id='L218'>
          <td class='lineno'>218</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ret &#61; iterate&#40;iter.ci, state.cistate&#41;</span>
          </td>
        </tr>
        <tr id='L219'>
          <td class='lineno'>219</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ret &#61;&#61;&#61; nothing &amp;&amp; return nothing</span>
          </td>
        </tr>
        <tr id='L220'>
          <td class='lineno'>220</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    item, cistate &#61; ret</span>
          </td>
        </tr>
        <tr id='L221'>
          <td class='lineno'>221</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    i1 &#61; item&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L222'>
          <td class='lineno'>222</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    isnext1 &#61; i1 &#61;&#61; state.cistate&#91;1&#93;&#43;1</span>
          </td>
        </tr>
        <tr id='L223'>
          <td class='lineno'>223</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    if isnext1 &amp;&amp; i1 &lt; iter.breaks1&#91;state.ibreak&#43;1&#93;</span>
          </td>
        </tr>
        <tr id='L224'>
          <td class='lineno'>224</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        # We can use the previously cached values</span>
          </td>
        </tr>
        <tr id='L225'>
          <td class='lineno'>225</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        wis1 &#61; iter.wis&#91;1&#93;&#91;i1&#93;</span>
          </td>
        </tr>
        <tr id='L226'>
          <td class='lineno'>226</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>        return _reduce&#40;&#43;, weights&#40;wis1&#41;.*state.cached_evaluations&#41;, ScaledIterState&#40;cistate, state.ibreak, state.cached_evaluations&#41;</span>
          </td>
        </tr>
        <tr id='L227'>
          <td class='lineno'>227</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    end</span>
          </td>
        </tr>
        <tr id='L228'>
          <td class='lineno'>228</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    # Re-evaluate. We&#39;re being a bit lazy here: in some cases, some of the cached values could be reused</span>
          </td>
        </tr>
        <tr id='L229'>
          <td class='lineno'>229</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    wis &#61; getindex.&#40;iter.wis, Tuple&#40;item&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L230'>
          <td class='lineno'>230</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    ces &#61; cache_evaluations&#40;InterpGetindex&#40;iter.sitp&#41;, indexes&#40;wis&#91;1&#93;&#41;, weights&#40;wis&#91;1&#93;&#41;, Base.tail&#40;wis&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L231'>
          <td class='lineno'>231</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>    return _reduce&#40;&#43;, weights&#40;wis&#91;1&#93;&#41;.*ces&#41;, ScaledIterState&#40;cistate, isnext1 ? state.ibreak&#43;1 : firstindex&#40;iter.breaks1&#41;, ces&#41;</span>
          </td>
        </tr>
        <tr id='L232'>
          <td class='lineno'>232</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>end</span>
          </td>
        </tr>
        <tr id='L233'>
          <td class='lineno'>233</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L234'>
          <td class='lineno'>234</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>_reduce&#40;op, list&#41; &#61; op&#40;list&#91;1&#93;, _reduce&#40;op, Base.tail&#40;list&#41;&#41;&#41;</span>
          </td>
        </tr>
        <tr id='L235'>
          <td class='lineno'>235</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>_reduce&#40;op, list::Tuple&#123;Any&#125;&#41; &#61; list&#91;1&#93;</span>
          </td>
        </tr>
        <tr id='L236'>
          <td class='lineno'>236</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>_reduce&#40;op, list::Tuple&#123;&#125;&#41; &#61; error&#40;&quot;cannot reduce an empty list&quot;&#41;</span>
          </td>
        </tr>
        <tr id='L237'>
          <td class='lineno'>237</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L238'>
          <td class='lineno'>238</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'># We use weights only as a ruler to determine when we are done</span>
          </td>
        </tr>
        <tr id='L239'>
          <td class='lineno'>239</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>cache_evaluations&#40;coefs, i::Int, weights, rest&#41; &#61; &#40;coefs&#91;i, rest...&#93;, cache_evaluations&#40;coefs, i&#43;1, Base.tail&#40;weights&#41;, rest&#41;...&#41;</span>
          </td>
        </tr>
        <tr id='L240'>
          <td class='lineno'>240</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>cache_evaluations&#40;coefs, indexes, weights, rest&#41; &#61; &#40;coefs&#91;indexes&#91;1&#93;, rest...&#93;, cache_evaluations&#40;coefs, Base.tail&#40;indexes&#41;, Base.tail&#40;weights&#41;, rest&#41;...&#41;</span>
          </td>
        </tr>
        <tr id='L241'>
          <td class='lineno'>241</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>cache_evaluations&#40;coefs, ::Int, ::Tuple&#123;&#125;, rest&#41; &#61; &#40;&#41;</span>
          </td>
        </tr>
        <tr id='L242'>
          <td class='lineno'>242</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>cache_evaluations&#40;coefs, ::Any, ::Tuple&#123;&#125;, rest&#41; &#61; &#40;&#41;</span>
          </td>
        </tr>
        <tr id='L243'>
          <td class='lineno'>243</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'></span>
          </td>
        </tr>
        <tr id='L244'>
          <td class='lineno'>244</td>
          <td class='tracecount excl'></td>
          <td class='tracecount incl'></td>
          <td>
            
            
            <span class='code'>ssize&#40;sitp::ScaledInterpolation&#123;T,N&#125;&#41; where &#123;T,N&#125; &#61; map&#40;r-&gt;round&#40;Int, last&#40;r&#41;-first&#40;r&#41;&#43;1&#41;, sitp.ranges&#41;::NTuple&#123;N,Int&#125;</span>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>

